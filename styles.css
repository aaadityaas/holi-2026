/* ===== Reset & Base ===== */
*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

html,
body {
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: 'Outfit', sans-serif;
  -webkit-font-smoothing: antialiased;
}

body {
  background: linear-gradient(180deg, #7B2D8E 0%, #6A1B7A 40%, #5C1670 100%);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  min-height: 100dvh;
  color: #FFF;
}

/* ===== Toolbar ===== */
.toolbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding: 12px 16px;
  padding-top: max(12px, env(safe-area-inset-top));
  z-index: 1000;
}

.toolbar-btn {
  background: rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  color: rgba(255, 255, 255, 0.9);
  cursor: pointer;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: background 0.2s, transform 0.15s;
}

.toolbar-btn:active {
  background: rgba(255, 255, 255, 0.2);
  transform: scale(0.9);
}

/* ===== Scene ===== */
.scene {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

/* ===== Box Wrapper ===== */

.box-wrapper::before {
  content: "";
  position: absolute;
  top: 10px;
  left: 10px;
  width: calc(100% - 20px);
  height: calc(100% - 20px);
  border-radius: 24px;
  z-index: -1;
  background: rgba(25, 5, 45, 0.04);
  box-shadow: 
    1px 1px 0 rgba(25, 5, 45, 0.04),
    2px 2px 0 rgba(25, 5, 45, 0.04),
    3px 3px 0 rgba(25, 5, 45, 0.04),
    4px 4px 0 rgba(25, 5, 45, 0.04),
    5px 5px 0 rgba(25, 5, 45, 0.04),
    6px 6px 0 rgba(25, 5, 45, 0.04),
    7px 7px 0 rgba(25, 5, 45, 0.04),
    8px 8px 0 rgba(25, 5, 45, 0.04),
    9px 9px 0 rgba(25, 5, 45, 0.04),
    10px 10px 0 rgba(25, 5, 45, 0.04),
    11px 11px 0 rgba(25, 5, 45, 0.04),
    12px 12px 0 rgba(25, 5, 45, 0.04),
    13px 13px 0 rgba(25, 5, 45, 0.04),
    14px 14px 0 rgba(25, 5, 45, 0.04),
    15px 15px 0 rgba(25, 5, 45, 0.04),
    16px 16px 0 rgba(25, 5, 45, 0.04),
    17px 17px 0 rgba(25, 5, 45, 0.04),
    18px 18px 0 rgba(25, 5, 45, 0.04),
    19px 19px 0 rgba(25, 5, 45, 0.04),
    20px 20px 0 rgba(25, 5, 45, 0.04),
    21px 21px 0 rgba(25, 5, 45, 0.04),
    22px 22px 0 rgba(25, 5, 45, 0.04),
    23px 23px 0 rgba(25, 5, 45, 0.04),
    24px 24px 0 rgba(25, 5, 45, 0.04),
    25px 25px 0 rgba(25, 5, 45, 0.04),
    26px 26px 0 rgba(25, 5, 45, 0.04),
    27px 27px 0 rgba(25, 5, 45, 0.04),
    28px 28px 0 rgba(25, 5, 45, 0.04),
    29px 29px 0 rgba(25, 5, 45, 0.04),
    30px 30px 0 rgba(25, 5, 45, 0.04),
    31px 31px 0 rgba(25, 5, 45, 0.04),
    32px 32px 0 rgba(25, 5, 45, 0.04),
    33px 33px 0 rgba(25, 5, 45, 0.04),
    34px 34px 0 rgba(25, 5, 45, 0.04),
    35px 35px 0 rgba(25, 5, 45, 0.04),
    36px 36px 0 rgba(25, 5, 45, 0.04),
    37px 37px 0 rgba(25, 5, 45, 0.04),
    38px 38px 0 rgba(25, 5, 45, 0.04),
    39px 39px 0 rgba(25, 5, 45, 0.04),
    40px 40px 0 rgba(25, 5, 45, 0.04),
    41px 41px 0 rgba(25, 5, 45, 0.04),
    42px 42px 0 rgba(25, 5, 45, 0.04),
    43px 43px 0 rgba(25, 5, 45, 0.04),
    44px 44px 0 rgba(25, 5, 45, 0.04),
    45px 45px 0 rgba(25, 5, 45, 0.04),
    46px 46px 0 rgba(25, 5, 45, 0.04),
    47px 47px 0 rgba(25, 5, 45, 0.04),
    48px 48px 0 rgba(25, 5, 45, 0.04),
    49px 49px 0 rgba(25, 5, 45, 0.04),
    50px 50px 0 rgba(25, 5, 45, 0.04),
    51px 51px 0 rgba(25, 5, 45, 0.04),
    52px 52px 0 rgba(25, 5, 45, 0.04),
    53px 53px 0 rgba(25, 5, 45, 0.04),
    54px 54px 0 rgba(25, 5, 45, 0.04),
    55px 55px 0 rgba(25, 5, 45, 0.04),
    56px 56px 0 rgba(25, 5, 45, 0.04),
    57px 57px 0 rgba(25, 5, 45, 0.04),
    58px 58px 0 rgba(25, 5, 45, 0.04),
    59px 59px 0 rgba(25, 5, 45, 0.04),
    60px 60px 0 rgba(25, 5, 45, 0.04),
    61px 61px 0 rgba(25, 5, 45, 0.04),
    62px 62px 0 rgba(25, 5, 45, 0.04),
    63px 63px 0 rgba(25, 5, 45, 0.04),
    64px 64px 0 rgba(25, 5, 45, 0.04),
    65px 65px 0 rgba(25, 5, 45, 0.04),
    66px 66px 0 rgba(25, 5, 45, 0.04),
    67px 67px 0 rgba(25, 5, 45, 0.04),
    68px 68px 0 rgba(25, 5, 45, 0.04),
    69px 69px 0 rgba(25, 5, 45, 0.04),
    70px 70px 0 rgba(25, 5, 45, 0.04),
    71px 71px 0 rgba(25, 5, 45, 0.04),
    72px 72px 0 rgba(25, 5, 45, 0.04),
    73px 73px 0 rgba(25, 5, 45, 0.04),
    74px 74px 0 rgba(25, 5, 45, 0.04),
    75px 75px 0 rgba(25, 5, 45, 0.04),
    76px 76px 0 rgba(25, 5, 45, 0.04),
    77px 77px 0 rgba(25, 5, 45, 0.04),
    78px 78px 0 rgba(25, 5, 45, 0.04),
    79px 79px 0 rgba(25, 5, 45, 0.04),
    80px 80px 0 rgba(25, 5, 45, 0.04),
    81px 81px 0 rgba(25, 5, 45, 0.04),
    82px 82px 0 rgba(25, 5, 45, 0.04),
    83px 83px 0 rgba(25, 5, 45, 0.04),
    84px 84px 0 rgba(25, 5, 45, 0.04),
    85px 85px 0 rgba(25, 5, 45, 0.04),
    86px 86px 0 rgba(25, 5, 45, 0.04),
    87px 87px 0 rgba(25, 5, 45, 0.04),
    88px 88px 0 rgba(25, 5, 45, 0.04),
    89px 89px 0 rgba(25, 5, 45, 0.04),
    90px 90px 0 rgba(25, 5, 45, 0.04),
    91px 91px 0 rgba(25, 5, 45, 0.04),
    92px 92px 0 rgba(25, 5, 45, 0.04),
    93px 93px 0 rgba(25, 5, 45, 0.04),
    94px 94px 0 rgba(25, 5, 45, 0.04),
    95px 95px 0 rgba(25, 5, 45, 0.04),
    96px 96px 0 rgba(25, 5, 45, 0.04),
    97px 97px 0 rgba(25, 5, 45, 0.04),
    98px 98px 0 rgba(25, 5, 45, 0.04),
    99px 99px 0 rgba(25, 5, 45, 0.04),
    100px 100px 0 rgba(25, 5, 45, 0.04),
    101px 101px 0 rgba(25, 5, 45, 0.04),
    102px 102px 0 rgba(25, 5, 45, 0.04),
    103px 103px 0 rgba(25, 5, 45, 0.04),
    104px 104px 0 rgba(25, 5, 45, 0.04),
    105px 105px 0 rgba(25, 5, 45, 0.04),
    106px 106px 0 rgba(25, 5, 45, 0.04),
    107px 107px 0 rgba(25, 5, 45, 0.04),
    108px 108px 0 rgba(25, 5, 45, 0.04),
    109px 109px 0 rgba(25, 5, 45, 0.04),
    110px 110px 0 rgba(25, 5, 45, 0.04),
    111px 111px 0 rgba(25, 5, 45, 0.04),
    112px 112px 0 rgba(25, 5, 45, 0.04),
    113px 113px 0 rgba(25, 5, 45, 0.04),
    114px 114px 0 rgba(25, 5, 45, 0.04),
    115px 115px 0 rgba(25, 5, 45, 0.04),
    116px 116px 0 rgba(25, 5, 45, 0.04),
    117px 117px 0 rgba(25, 5, 45, 0.04),
    118px 118px 0 rgba(25, 5, 45, 0.04),
    119px 119px 0 rgba(25, 5, 45, 0.04),
    120px 120px 0 rgba(25, 5, 45, 0.04),
    121px 121px 0 rgba(25, 5, 45, 0.04),
    122px 122px 0 rgba(25, 5, 45, 0.04),
    123px 123px 0 rgba(25, 5, 45, 0.04),
    124px 124px 0 rgba(25, 5, 45, 0.04),
    125px 125px 0 rgba(25, 5, 45, 0.04),
    126px 126px 0 rgba(25, 5, 45, 0.04),
    127px 127px 0 rgba(25, 5, 45, 0.04),
    128px 128px 0 rgba(25, 5, 45, 0.04),
    129px 129px 0 rgba(25, 5, 45, 0.04),
    130px 130px 0 rgba(25, 5, 45, 0.04),
    131px 131px 0 rgba(25, 5, 45, 0.04),
    132px 132px 0 rgba(25, 5, 45, 0.04),
    133px 133px 0 rgba(25, 5, 45, 0.04),
    134px 134px 0 rgba(25, 5, 45, 0.04),
    135px 135px 0 rgba(25, 5, 45, 0.04),
    136px 136px 0 rgba(25, 5, 45, 0.04),
    137px 137px 0 rgba(25, 5, 45, 0.04),
    138px 138px 0 rgba(25, 5, 45, 0.04),
    139px 139px 0 rgba(25, 5, 45, 0.04),
    140px 140px 0 rgba(25, 5, 45, 0.04),
    141px 141px 0 rgba(25, 5, 45, 0.04),
    142px 142px 0 rgba(25, 5, 45, 0.04),
    143px 143px 0 rgba(25, 5, 45, 0.04),
    144px 144px 0 rgba(25, 5, 45, 0.04),
    145px 145px 0 rgba(25, 5, 45, 0.04),
    146px 146px 0 rgba(25, 5, 45, 0.04),
    147px 147px 0 rgba(25, 5, 45, 0.04),
    148px 148px 0 rgba(25, 5, 45, 0.04),
    149px 149px 0 rgba(25, 5, 45, 0.04),
    150px 150px 0 rgba(25, 5, 45, 0.04),
    151px 151px 0 rgba(25, 5, 45, 0.04),
    152px 152px 0 rgba(25, 5, 45, 0.04),
    153px 153px 0 rgba(25, 5, 45, 0.04),
    154px 154px 0 rgba(25, 5, 45, 0.04),
    155px 155px 0 rgba(25, 5, 45, 0.04),
    156px 156px 0 rgba(25, 5, 45, 0.04),
    157px 157px 0 rgba(25, 5, 45, 0.04),
    158px 158px 0 rgba(25, 5, 45, 0.04),
    159px 159px 0 rgba(25, 5, 45, 0.04),
    160px 160px 0 rgba(25, 5, 45, 0.04),
    161px 161px 0 rgba(25, 5, 45, 0.04),
    162px 162px 0 rgba(25, 5, 45, 0.04),
    163px 163px 0 rgba(25, 5, 45, 0.04),
    164px 164px 0 rgba(25, 5, 45, 0.04),
    165px 165px 0 rgba(25, 5, 45, 0.04),
    166px 166px 0 rgba(25, 5, 45, 0.04),
    167px 167px 0 rgba(25, 5, 45, 0.04),
    168px 168px 0 rgba(25, 5, 45, 0.04),
    169px 169px 0 rgba(25, 5, 45, 0.04),
    170px 170px 0 rgba(25, 5, 45, 0.04),
    171px 171px 0 rgba(25, 5, 45, 0.04),
    172px 172px 0 rgba(25, 5, 45, 0.04),
    173px 173px 0 rgba(25, 5, 45, 0.04),
    174px 174px 0 rgba(25, 5, 45, 0.04),
    175px 175px 0 rgba(25, 5, 45, 0.04),
    176px 176px 0 rgba(25, 5, 45, 0.04),
    177px 177px 0 rgba(25, 5, 45, 0.04),
    178px 178px 0 rgba(25, 5, 45, 0.04),
    179px 179px 0 rgba(25, 5, 45, 0.04),
    180px 180px 0 rgba(25, 5, 45, 0.04),
    181px 181px 0 rgba(25, 5, 45, 0.04),
    182px 182px 0 rgba(25, 5, 45, 0.04),
    183px 183px 0 rgba(25, 5, 45, 0.04),
    184px 184px 0 rgba(25, 5, 45, 0.04),
    185px 185px 0 rgba(25, 5, 45, 0.04),
    186px 186px 0 rgba(25, 5, 45, 0.04),
    187px 187px 0 rgba(25, 5, 45, 0.04),
    188px 188px 0 rgba(25, 5, 45, 0.04),
    189px 189px 0 rgba(25, 5, 45, 0.04),
    190px 190px 0 rgba(25, 5, 45, 0.04),
    191px 191px 0 rgba(25, 5, 45, 0.04),
    192px 192px 0 rgba(25, 5, 45, 0.04),
    193px 193px 0 rgba(25, 5, 45, 0.04),
    194px 194px 0 rgba(25, 5, 45, 0.04),
    195px 195px 0 rgba(25, 5, 45, 0.04),
    196px 196px 0 rgba(25, 5, 45, 0.04),
    197px 197px 0 rgba(25, 5, 45, 0.04),
    198px 198px 0 rgba(25, 5, 45, 0.04),
    199px 199px 0 rgba(25, 5, 45, 0.04),
    200px 200px 0 rgba(25, 5, 45, 0.04),
    201px 201px 0 rgba(25, 5, 45, 0.04),
    202px 202px 0 rgba(25, 5, 45, 0.04),
    203px 203px 0 rgba(25, 5, 45, 0.04),
    204px 204px 0 rgba(25, 5, 45, 0.04),
    205px 205px 0 rgba(25, 5, 45, 0.04),
    206px 206px 0 rgba(25, 5, 45, 0.04),
    207px 207px 0 rgba(25, 5, 45, 0.04),
    208px 208px 0 rgba(25, 5, 45, 0.04),
    209px 209px 0 rgba(25, 5, 45, 0.04),
    210px 210px 0 rgba(25, 5, 45, 0.04),
    211px 211px 0 rgba(25, 5, 45, 0.04),
    212px 212px 0 rgba(25, 5, 45, 0.04),
    213px 213px 0 rgba(25, 5, 45, 0.04),
    214px 214px 0 rgba(25, 5, 45, 0.04),
    215px 215px 0 rgba(25, 5, 45, 0.04),
    216px 216px 0 rgba(25, 5, 45, 0.04),
    217px 217px 0 rgba(25, 5, 45, 0.04),
    218px 218px 0 rgba(25, 5, 45, 0.04),
    219px 219px 0 rgba(25, 5, 45, 0.04),
    220px 220px 0 rgba(25, 5, 45, 0.04),
    221px 221px 0 rgba(25, 5, 45, 0.04),
    222px 222px 0 rgba(25, 5, 45, 0.04),
    223px 223px 0 rgba(25, 5, 45, 0.04),
    224px 224px 0 rgba(25, 5, 45, 0.04),
    225px 225px 0 rgba(25, 5, 45, 0.04),
    226px 226px 0 rgba(25, 5, 45, 0.04),
    227px 227px 0 rgba(25, 5, 45, 0.04),
    228px 228px 0 rgba(25, 5, 45, 0.04),
    229px 229px 0 rgba(25, 5, 45, 0.04),
    230px 230px 0 rgba(25, 5, 45, 0.04),
    231px 231px 0 rgba(25, 5, 45, 0.04),
    232px 232px 0 rgba(25, 5, 45, 0.04),
    233px 233px 0 rgba(25, 5, 45, 0.04),
    234px 234px 0 rgba(25, 5, 45, 0.04),
    235px 235px 0 rgba(25, 5, 45, 0.04),
    236px 236px 0 rgba(25, 5, 45, 0.04),
    237px 237px 0 rgba(25, 5, 45, 0.04),
    238px 238px 0 rgba(25, 5, 45, 0.04),
    239px 239px 0 rgba(25, 5, 45, 0.04),
    240px 240px 0 rgba(25, 5, 45, 0.04),
    241px 241px 0 rgba(25, 5, 45, 0.04),
    242px 242px 0 rgba(25, 5, 45, 0.04),
    243px 243px 0 rgba(25, 5, 45, 0.04),
    244px 244px 0 rgba(25, 5, 45, 0.04),
    245px 245px 0 rgba(25, 5, 45, 0.04),
    246px 246px 0 rgba(25, 5, 45, 0.04),
    247px 247px 0 rgba(25, 5, 45, 0.04),
    248px 248px 0 rgba(25, 5, 45, 0.04),
    249px 249px 0 rgba(25, 5, 45, 0.04),
    250px 250px 0 rgba(25, 5, 45, 0.04),
    251px 251px 0 rgba(25, 5, 45, 0.04),
    252px 252px 0 rgba(25, 5, 45, 0.04),
    253px 253px 0 rgba(25, 5, 45, 0.04),
    254px 254px 0 rgba(25, 5, 45, 0.04),
    255px 255px 0 rgba(25, 5, 45, 0.04),
    256px 256px 0 rgba(25, 5, 45, 0.04),
    257px 257px 0 rgba(25, 5, 45, 0.04),
    258px 258px 0 rgba(25, 5, 45, 0.04),
    259px 259px 0 rgba(25, 5, 45, 0.04),
    260px 260px 0 rgba(25, 5, 45, 0.04),
    261px 261px 0 rgba(25, 5, 45, 0.04),
    262px 262px 0 rgba(25, 5, 45, 0.04),
    263px 263px 0 rgba(25, 5, 45, 0.04),
    264px 264px 0 rgba(25, 5, 45, 0.04),
    265px 265px 0 rgba(25, 5, 45, 0.04),
    266px 266px 0 rgba(25, 5, 45, 0.04),
    267px 267px 0 rgba(25, 5, 45, 0.04),
    268px 268px 0 rgba(25, 5, 45, 0.04),
    269px 269px 0 rgba(25, 5, 45, 0.04),
    270px 270px 0 rgba(25, 5, 45, 0.04),
    271px 271px 0 rgba(25, 5, 45, 0.04),
    272px 272px 0 rgba(25, 5, 45, 0.04),
    273px 273px 0 rgba(25, 5, 45, 0.04),
    274px 274px 0 rgba(25, 5, 45, 0.04),
    275px 275px 0 rgba(25, 5, 45, 0.04),
    276px 276px 0 rgba(25, 5, 45, 0.04),
    277px 277px 0 rgba(25, 5, 45, 0.04),
    278px 278px 0 rgba(25, 5, 45, 0.04),
    279px 279px 0 rgba(25, 5, 45, 0.04),
    280px 280px 0 rgba(25, 5, 45, 0.04),
    281px 281px 0 rgba(25, 5, 45, 0.04),
    282px 282px 0 rgba(25, 5, 45, 0.04),
    283px 283px 0 rgba(25, 5, 45, 0.04),
    284px 284px 0 rgba(25, 5, 45, 0.04),
    285px 285px 0 rgba(25, 5, 45, 0.04),
    286px 286px 0 rgba(25, 5, 45, 0.04),
    287px 287px 0 rgba(25, 5, 45, 0.04),
    288px 288px 0 rgba(25, 5, 45, 0.04),
    289px 289px 0 rgba(25, 5, 45, 0.04),
    290px 290px 0 rgba(25, 5, 45, 0.04),
    291px 291px 0 rgba(25, 5, 45, 0.04),
    292px 292px 0 rgba(25, 5, 45, 0.04),
    293px 293px 0 rgba(25, 5, 45, 0.04),
    294px 294px 0 rgba(25, 5, 45, 0.04),
    295px 295px 0 rgba(25, 5, 45, 0.04),
    296px 296px 0 rgba(25, 5, 45, 0.04),
    297px 297px 0 rgba(25, 5, 45, 0.04),
    298px 298px 0 rgba(25, 5, 45, 0.04),
    299px 299px 0 rgba(25, 5, 45, 0.04),
    300px 300px 0 rgba(25, 5, 45, 0.04),
    301px 301px 0 rgba(25, 5, 45, 0.04),
    302px 302px 0 rgba(25, 5, 45, 0.04),
    303px 303px 0 rgba(25, 5, 45, 0.04),
    304px 304px 0 rgba(25, 5, 45, 0.04),
    305px 305px 0 rgba(25, 5, 45, 0.04),
    306px 306px 0 rgba(25, 5, 45, 0.04),
    307px 307px 0 rgba(25, 5, 45, 0.04),
    308px 308px 0 rgba(25, 5, 45, 0.04),
    309px 309px 0 rgba(25, 5, 45, 0.04),
    310px 310px 0 rgba(25, 5, 45, 0.04),
    311px 311px 0 rgba(25, 5, 45, 0.04),
    312px 312px 0 rgba(25, 5, 45, 0.04),
    313px 313px 0 rgba(25, 5, 45, 0.04),
    314px 314px 0 rgba(25, 5, 45, 0.04),
    315px 315px 0 rgba(25, 5, 45, 0.04),
    316px 316px 0 rgba(25, 5, 45, 0.04),
    317px 317px 0 rgba(25, 5, 45, 0.04),
    318px 318px 0 rgba(25, 5, 45, 0.04),
    319px 319px 0 rgba(25, 5, 45, 0.04),
    320px 320px 0 rgba(25, 5, 45, 0.04),
    321px 321px 0 rgba(25, 5, 45, 0.04),
    322px 322px 0 rgba(25, 5, 45, 0.04),
    323px 323px 0 rgba(25, 5, 45, 0.04),
    324px 324px 0 rgba(25, 5, 45, 0.04),
    325px 325px 0 rgba(25, 5, 45, 0.04),
    326px 326px 0 rgba(25, 5, 45, 0.04),
    327px 327px 0 rgba(25, 5, 45, 0.04),
    328px 328px 0 rgba(25, 5, 45, 0.04),
    329px 329px 0 rgba(25, 5, 45, 0.04),
    330px 330px 0 rgba(25, 5, 45, 0.04),
    331px 331px 0 rgba(25, 5, 45, 0.04),
    332px 332px 0 rgba(25, 5, 45, 0.04),
    333px 333px 0 rgba(25, 5, 45, 0.04),
    334px 334px 0 rgba(25, 5, 45, 0.04),
    335px 335px 0 rgba(25, 5, 45, 0.04),
    336px 336px 0 rgba(25, 5, 45, 0.04),
    337px 337px 0 rgba(25, 5, 45, 0.04),
    338px 338px 0 rgba(25, 5, 45, 0.04),
    339px 339px 0 rgba(25, 5, 45, 0.04),
    340px 340px 0 rgba(25, 5, 45, 0.04),
    341px 341px 0 rgba(25, 5, 45, 0.04),
    342px 342px 0 rgba(25, 5, 45, 0.04),
    343px 343px 0 rgba(25, 5, 45, 0.04),
    344px 344px 0 rgba(25, 5, 45, 0.04),
    345px 345px 0 rgba(25, 5, 45, 0.04),
    346px 346px 0 rgba(25, 5, 45, 0.04),
    347px 347px 0 rgba(25, 5, 45, 0.04),
    348px 348px 0 rgba(25, 5, 45, 0.04),
    349px 349px 0 rgba(25, 5, 45, 0.04),
    350px 350px 0 rgba(25, 5, 45, 0.04),
    351px 351px 0 rgba(25, 5, 45, 0.04),
    352px 352px 0 rgba(25, 5, 45, 0.04),
    353px 353px 0 rgba(25, 5, 45, 0.04),
    354px 354px 0 rgba(25, 5, 45, 0.04),
    355px 355px 0 rgba(25, 5, 45, 0.04),
    356px 356px 0 rgba(25, 5, 45, 0.04),
    357px 357px 0 rgba(25, 5, 45, 0.04),
    358px 358px 0 rgba(25, 5, 45, 0.04),
    359px 359px 0 rgba(25, 5, 45, 0.04),
    360px 360px 0 rgba(25, 5, 45, 0.04),
    361px 361px 0 rgba(25, 5, 45, 0.04),
    362px 362px 0 rgba(25, 5, 45, 0.04),
    363px 363px 0 rgba(25, 5, 45, 0.04),
    364px 364px 0 rgba(25, 5, 45, 0.04),
    365px 365px 0 rgba(25, 5, 45, 0.04),
    366px 366px 0 rgba(25, 5, 45, 0.04),
    367px 367px 0 rgba(25, 5, 45, 0.04),
    368px 368px 0 rgba(25, 5, 45, 0.04),
    369px 369px 0 rgba(25, 5, 45, 0.04),
    370px 370px 0 rgba(25, 5, 45, 0.04),
    371px 371px 0 rgba(25, 5, 45, 0.04),
    372px 372px 0 rgba(25, 5, 45, 0.04),
    373px 373px 0 rgba(25, 5, 45, 0.04),
    374px 374px 0 rgba(25, 5, 45, 0.04),
    375px 375px 0 rgba(25, 5, 45, 0.04),
    376px 376px 0 rgba(25, 5, 45, 0.04),
    377px 377px 0 rgba(25, 5, 45, 0.04),
    378px 378px 0 rgba(25, 5, 45, 0.04),
    379px 379px 0 rgba(25, 5, 45, 0.04),
    380px 380px 0 rgba(25, 5, 45, 0.04),
    381px 381px 0 rgba(25, 5, 45, 0.04),
    382px 382px 0 rgba(25, 5, 45, 0.04),
    383px 383px 0 rgba(25, 5, 45, 0.04),
    384px 384px 0 rgba(25, 5, 45, 0.04),
    385px 385px 0 rgba(25, 5, 45, 0.04),
    386px 386px 0 rgba(25, 5, 45, 0.04),
    387px 387px 0 rgba(25, 5, 45, 0.04),
    388px 388px 0 rgba(25, 5, 45, 0.04),
    389px 389px 0 rgba(25, 5, 45, 0.04),
    390px 390px 0 rgba(25, 5, 45, 0.04),
    391px 391px 0 rgba(25, 5, 45, 0.04),
    392px 392px 0 rgba(25, 5, 45, 0.04),
    393px 393px 0 rgba(25, 5, 45, 0.04),
    394px 394px 0 rgba(25, 5, 45, 0.04),
    395px 395px 0 rgba(25, 5, 45, 0.04),
    396px 396px 0 rgba(25, 5, 45, 0.04),
    397px 397px 0 rgba(25, 5, 45, 0.04),
    398px 398px 0 rgba(25, 5, 45, 0.04),
    399px 399px 0 rgba(25, 5, 45, 0.04),
    400px 400px 0 rgba(25, 5, 45, 0.04);
}

.box-wrapper {
  position: relative;
  width: 270px;
  transform: scale(0.35);
}

/* ===== Lid ===== */
.box-lid {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%) scale(1.02);
  z-index: 5;
  width: 100%;
}

.lid-img {
  width: 100%;
  height: auto;
  display: block;
}

/* ===== Box Body ===== */
.box-body {
  position: relative;
  z-index: 1;
  width: 100%;
}

.box-img {
  width: 100%;
  height: auto;
  display: block;
}

/* ===== Assets Layer ===== */
.assets-layer {
  position: absolute;
  inset: 0;
  z-index: 3;
}

.asset {
  position: absolute;
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  z-index: 2;
  -webkit-user-select: none;
  user-select: none;
}

.asset-img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.3));
}

/* ===== Letter (center, CSS-styled paper) ===== */
.asset-letter {
  position: absolute;
  top: 15%;
  left: 50%;
  transform: translateX(-50%) rotate(4deg);
  height: 70%;
  width: 48%;
  aspect-ratio: 37 / 55;
  z-index: 2;
  cursor: default;
}

.letter-paper {
  width: 100%;
  height: 100%;
  background: linear-gradient(170deg, #FFFDF7 0%, #FFF8EC 40%, #FFF3E0 100%);
  border-radius: 4px;
  box-shadow:
    0 4px 20px rgba(0, 0, 0, 0.15),
    0 0 0 1px rgba(255, 255, 255, 0.1),
    inset 0 0 30px #FFE9BC;
  position: relative;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.letter-content {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 8% 10% 8%;
  text-align: center;
  opacity: 0;
  transform: translateY(15px);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Hidden initially, will be faded in via JS */
}

.letter-title {
  font-size: 0.9rem;
  font-weight: 900;
  color: #791aab;
  /* matching the purple from reference */
  line-height: 1.1;
  letter-spacing: -0.5px;
  margin-bottom: 8%;
  font-family: 'Elsie', cursive;
  white-space: nowrap;
}

.letter-text {
  font-size: 0.35rem;
  color: #444;
  line-height: 1.5;
  margin-bottom: 5%;
  font-family: 'Inter', sans-serif;
}

.letter-text strong {
  color: #39337B;
  font-weight: 700;
}

.letter-cta {
  background: #208dfd;
  color: #FFF;
  border: none;
  border-radius: 6px;
  padding: 8px 16px;
  font-size: 0.35rem;
  font-weight: 600;
  font-family: 'Inter', sans-serif;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(41, 121, 255, 0.3);
  margin-top: auto;
  transition: transform 0.15s;
}

.letter-cta:active {
  transform: scale(0.95);
}

/* ===== Gujiya (bottom-left, overlapping letter) ===== */
.asset-gujiya {
  bottom: 13%;
  left: 8%;
  width: 32%;
  transform: rotate(33deg);
  z-index: 5;
}

.asset-gujiya-secondary {
  left: 14%;
  bottom: 23%;
  transform: rotate(33deg);
  z-index: 4;
}

.asset-gujiya .asset-img {
  filter: none;
}

/* ===== Pichkari (right side, overlapping letter diagonally) ===== */
.asset-pichkari {
  top: 18%;
  right: 5%;
  width: 12.6%;
  transform: rotate(-15deg);
  z-index: 4;
}

.asset-pichkari:active {
  transform: rotate(0deg) scale(0.93);
}

/* ===== Gulal (bottom-right, overlapping letter) ===== */
.asset-gulal {
  bottom: 8%;
  right: 0%;
  width: 37.8%;
  z-index: 4;
}

/* Keep gujiya above neighboring assets during interaction */
.asset-gujiya.interacting {
  z-index: 50 !important;
  position: absolute;
}

.gulal-overlay-clone {
  position: fixed;
  left: 0;
  top: 0;
  object-fit: contain;
  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.3));
  pointer-events: none;
  z-index: 610;
  transform-origin: 50% 50%;
  will-change: transform;
}

.gulal-dust-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 612;
}

.gulal-dust-cloud {
  position: absolute;
  left: 0;
  top: 0;
  object-fit: contain;
  pointer-events: none;
  transform-origin: 50% 50%;
  will-change: transform, opacity;
  mix-blend-mode: screen;
  filter: blur(0.7px) saturate(1.1);
}

.pitchkari-overlay-clone {
  position: fixed;
  left: 0;
  top: 0;
  pointer-events: none;
  z-index: 56;
  transform-origin: 50% 50%;
  will-change: transform;
}

.pitchkari-overlay-suspension,
.pitchkari-overlay-img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  pointer-events: none;
}

.pitchkari-overlay-suspension {
  z-index: 0;
  filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.16));
}

.pitchkari-overlay-img {
  z-index: 1;
  filter: drop-shadow(0 4px 10px rgba(0, 0, 0, 0.28));
}

.splash {
  position: fixed;
  left: 0;
  top: 0;
  width: 340px;
  height: 340px;
  pointer-events: none;
  z-index: 605;
  transform-origin: 50% 50%;
  will-change: transform, opacity;
  object-fit: contain;
  mix-blend-mode: screen;
  filter: blur(0.6px) saturate(1.08);
}

/* ===== Spray Canvas ===== */
#sprayCanvas {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 600;
}

.asset.interacting {
  animation: none !important;
}

/* ===== Responsive ===== */
@media (min-width: 500px) {
  .box-wrapper {
    width: 320px;
  }
}